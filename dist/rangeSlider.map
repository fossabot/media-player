{"version":3,"sources":["rangeSlider.js"],"names":["defaultOptions","className","total","value","draggerSize","barHeight","onChange","min","max","RangeSlider","parent","options","Object","assign","_init","_render","container","document","createElement","style","height","bar","paddingLeft","paddingRight","dragger","width","top","percentage","Math","round","_createContainer","_createBar","_createDragger","appendChild","isMoving","move","event","offsetWidth","mousePos","pageX","getBoundingClientRect","left","position","calculateValue","console","warn","setValue","addEventListener","slider","_createSlider","innerHTML"],"mappings":"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","file":"rangeSlider.map","sourceRoot":"../src/rangeSlider","sourcesContent":["// reference: https://stackoverflow.com/a/33006528/1553656\n\nimport \"./rangeSlider.css\";\n\nconst defaultOptions = {\n  className: \"\",\n\n  total: 100,\n  value: 0,\n  draggerSize: 12,\n  barHeight: 4,\n  onChange: null,\n\n  min: 0,\n  max: 100\n};\n\nexport default class RangeSlider {\n  constructor(parent, options) {\n    this.options = Object.assign({}, defaultOptions, options);\n    this.parent = parent;\n    this._init();\n  }\n\n  _init() {\n    this._render();\n  }\n\n  _createContainer() {\n    const container = document.createElement(\"div\");\n    container.className = `range-slider ${this.options.className}`;\n    container.style.height = `${this.options.barHeight}px`;\n    return container;\n  }\n\n  _createBar() {\n    const bar = document.createElement(\"span\");\n    bar.style.height = `${this.options.barHeight}px`;\n    bar.style.paddingLeft = `${this.options.draggerSize / 2}px`;\n    bar.style.paddingRight = `${this.options.draggerSize / 2}px`;\n    bar.className = \"progress-bar\";\n    return bar;\n  }\n\n  _createDragger() {\n    const dragger = document.createElement(\"span\");\n    dragger.style.width = `${this.options.draggerSize}px`;\n    dragger.style.height = `${this.options.draggerSize}px`;\n    dragger.style.top = `-${(this.options.draggerSize -\n      this.options.barHeight) /\n      2}px`;\n    dragger.className = \"progress-dragger\";\n    return dragger;\n  }\n\n  calculateValue(percentage) {\n    return Math.round(\n      (this.options.max - this.options.min) * (percentage / 100)\n    );\n  }\n\n  _createSlider() {\n    const container = this._createContainer();\n    const bar = this._createBar();\n    const dragger = this._createDragger();\n    bar.appendChild(dragger);\n    container.appendChild(bar);\n\n    let isMoving = false;\n\n    const move = event => {\n      if (isMoving) {\n        let min = 0,\n          max = container.offsetWidth - dragger.offsetWidth,\n          mousePos =\n            event.pageX -\n            // container.offsetLeft\n            container.getBoundingClientRect()\n              .left /* absolute element calcuates the `offsetLeft relative to relative parents, thus we got 0 in some scenario` */ -\n            dragger.offsetWidth / 2,\n          position = mousePos > max ? max : mousePos < min ? min : mousePos;\n        dragger.style.left = `${position}px`;\n        let value = (position / max) * 100;\n        bar.style.width = `${value}%`;\n\n        value = this.calculateValue(value);\n        console.warn(value);\n        this.setValue(value);\n      }\n    };\n\n    container.addEventListener(\"mousedown\", function(event) {\n      isMoving = true;\n      move(event);\n    });\n\n    document.addEventListener(\"mouseup\", function(event) {\n      isMoving = false;\n    });\n\n    document.addEventListener(\"mousemove\", function(event) {\n      move(event);\n    });\n\n    return container;\n  }\n\n  _render() {\n    const slider = this._createSlider();\n    this.parent.innerHTML = \"\";\n    this.parent.appendChild(slider);\n  }\n\n  destroy() {\n    //\n  }\n\n  getValue() {\n    return this.options.value;\n  }\n\n  setValue(value) {\n    this.options.value = value;\n    if (this.options.onChange) {\n      this.options.onChange(value);\n    }\n  }\n}\n"]}