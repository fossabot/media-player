{"version":3,"sources":["rangeSlider.js","index.js"],"names":["defaultOptions","className","value","draggerSize","barHeight","onChange","min","max","precision","RangeSlider","parent","options","Object","assign","document","body","isMoving","container","dragger","bar","_handleMouseDown","bind","_handleMouseUp","_handleMouseMove","_handleResize","_init","_render","position","_calculatePosition","_updateUI","createElement","style","height","paddingLeft","paddingRight","width","top","positionMax","toFixed","_getPositionMax","_createContainer","_createBar","_createDragger","appendChild","_bindEvent","event","elementLeft","getBoundingClientRect","left","documentElement","scrollLeft","Math","abs","mousePos","pageX","offsetWidth","_calculateValue","setValue","_move","addEventListener","window","removeEventListener","slider","_createSlider","innerHTML","_removeEvent"],"mappings":"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","file":"index.map","sourceRoot":"../../src/rangeSlider","sourcesContent":["// reference: https://stackoverflow.com/a/33006528/1553656\n\nimport \"./rangeSlider.css\";\n\nconst defaultOptions = {\n  className: \"\",\n\n  value: 0,\n  draggerSize: 12,\n  barHeight: 2,\n  onChange: null,\n\n  min: 0,\n  max: 100,\n  precision: 0\n};\n\nexport default class RangeSlider {\n  constructor(parent, options) {\n    this.options = Object.assign({}, defaultOptions, options);\n    this.parent = parent || document.body;\n    this.isMoving = false;\n    this.container = null;\n    this.dragger = null;\n    this.bar = null;\n\n    this._handleMouseDown = this._handleMouseDown.bind(this);\n    this._handleMouseUp = this._handleMouseUp.bind(this);\n    this._handleMouseMove = this._handleMouseMove.bind(this);\n    this._handleResize = this._handleResize.bind(this);\n\n    this._init();\n  }\n\n  _init() {\n    this._render();\n    const position = this._calculatePosition(this.options.value);\n    this._updateUI(position);\n  }\n\n  _createContainer() {\n    const container = document.createElement(\"div\");\n    container.className = `range-slider ${this.options.className}`;\n    container.style.height = `${this.options.barHeight}px`;\n    this.container = container;\n    return container;\n  }\n\n  _createBar() {\n    const bar = document.createElement(\"span\");\n    bar.style.height = `${this.options.barHeight}px`;\n    bar.style.paddingLeft = `${this.options.draggerSize / 2}px`;\n    bar.style.paddingRight = `${this.options.draggerSize / 2}px`;\n    bar.className = \"progress-bar\";\n    this.bar = bar;\n    return bar;\n  }\n\n  _createDragger() {\n    const dragger = document.createElement(\"span\");\n    dragger.style.width = `${this.options.draggerSize}px`;\n    dragger.style.height = `${this.options.draggerSize}px`;\n    dragger.style.top = `-${(this.options.draggerSize -\n      this.options.barHeight) /\n      2}px`;\n    dragger.className = \"progress-dragger\";\n    this.dragger = dragger;\n    return dragger;\n  }\n\n  _calculateValue(position, positionMax) {\n    const value =\n      (position * (this.options.max - this.options.min)) / positionMax +\n      this.options.min;\n    return +value.toFixed(this.options.precision);\n  }\n\n  _calculatePosition(value) {\n    const positionMax = this._getPositionMax();\n    return (\n      ((value - this.options.min) * positionMax) /\n      (this.options.max - this.options.min)\n    );\n  }\n\n  _createSlider() {\n    const container = this._createContainer();\n    const bar = this._createBar();\n    const dragger = this._createDragger();\n    bar.appendChild(dragger);\n    container.appendChild(bar);\n\n    this._bindEvent(container);\n\n    return container;\n  }\n\n  _move(event) {\n    if (!this.isMoving) return;\n    let min = 0,\n      max = this._getPositionMax();\n\n    // Instead of using `offsetLeft`, we need to using\n    // `getBoundingClientRect().left. Because the offsetLeft is relative to none\n    // static parent.\n    let elementLeft = this.container.getBoundingClientRect().left;\n\n    // fix for scroll\n    elementLeft += document.documentElement.scrollLeft;\n\n    if (elementLeft < 0) elementLeft = Math.abs(elementLeft) / 2;\n    let mousePos = event.pageX - elementLeft - this.dragger.offsetWidth / 2,\n      position = mousePos > max ? max : mousePos < min ? min : mousePos;\n\n    const value = this._calculateValue(position, max);\n    this.setValue(value);\n    if (this.options.onChange) {\n      this.options.onChange(value);\n    }\n  }\n\n  _getPositionMax() {\n    return this.container.offsetWidth - this.dragger.offsetWidth;\n  }\n\n  _updateUI(position) {\n    const positionMax = this._getPositionMax();\n    this.dragger.style.left = `${position}px`;\n    let width = (position / positionMax) * 100;\n    this.bar.style.width = `${width}%`;\n  }\n\n  _handleMouseDown(event) {\n    this.isMoving = true;\n    this._move(event);\n  }\n\n  _handleMouseUp(event) {\n    this.isMoving = false;\n  }\n\n  _handleMouseMove(event) {\n    this._move(event);\n  }\n\n  _handleResize(event) {\n    this._init();\n  }\n\n  _bindEvent(container) {\n    container.addEventListener(\"mousedown\", this._handleMouseDown);\n    document.addEventListener(\"mouseup\", this._handleMouseUp);\n    document.addEventListener(\"mousemove\", this._handleMouseMove);\n    window.addEventListener(\"resize\", this._handleResize, true);\n  }\n\n  _removeEvent() {\n    if (!this.container) return;\n    this.container.removeEventListener(\"mousedown\", this._handleMouseDown);\n    document.removeEventListener(\"mouseup\", this._handleMouseUp);\n    document.removeEventListener(\"mousemove\", this._handleMouseMove);\n  }\n\n  _render() {\n    const slider = this._createSlider();\n    this.parent.innerHTML = \"\";\n    this.parent.appendChild(slider);\n  }\n\n  destroy() {\n    this._removeEvent();\n  }\n\n  getValue() {\n    return this.options.value;\n  }\n\n  setValue(value) {\n    this.options.value = value;\n    const position = this._calculatePosition(value);\n    this._updateUI(position);\n  }\n}\n","export {default} from './rangeSlider'"]}