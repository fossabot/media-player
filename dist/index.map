{"version":3,"sources":["../rangeSlider/rangeSlider.js","../rangeSlider/index.js","audioPlayer.js","index.js"],"names":["defaultOptions","className","total","value","draggerSize","barHeight","onChange","min","max","RangeSlider","parent","options","Object","assign","document","body","isMoving","container","dragger","bar","_handleMouseDown","bind","_handleMouseUp","_handleMouseMove","_init","_render","position","_calculatePosition","_updateUI","createElement","style","height","paddingLeft","paddingRight","width","top","positionMax","Math","round","_getPositionMax","_createContainer","_createBar","_createDragger","appendChild","_bindEvent","event","mousePos","pageX","getBoundingClientRect","left","offsetWidth","_calculateValue","setValue","_move","addEventListener","removeEventListener","slider","_createSlider","innerHTML","_removeEvent","autoPlay","duration","AudioPlayer","timeHoler","toggleBtn","isPlaying","player","sliderId","_getSliderId","togglePlay","_createUI","_initialPlayer","_initialEvents","onclick","url","Error","Audio","onloadedmetadata","_initializeSlider","_updateTimeDisplay","currentTime","ontimeupdate","time","currentTarget","onended","_playStatusChange","onerror","preload","undefined","play","pause","querySelector","randLetter","String","fromCharCode","floor","random","Date","now","toggle","progress","timer","innerText","append","_formatTime2HHMMSS","seconds","date","setMilliseconds","result","toISOString","substr","splits","split","length","slice","join","_removeEvents"],"mappings":"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","file":"index.map","sourceRoot":"../src/audioPlayer","sourcesContent":["// reference: https://stackoverflow.com/a/33006528/1553656\n\nimport \"./rangeSlider.css\";\n\nconst defaultOptions = {\n  className: \"\",\n\n  total: 100,\n  value: 0,\n  draggerSize: 12,\n  barHeight: 2,\n  onChange: null,\n\n  min: 0,\n  max: 100\n};\n\nexport default class RangeSlider {\n  constructor(parent, options) {\n    this.options = Object.assign({}, defaultOptions, options);\n    this.parent = parent || document.body;\n    this.isMoving = false;\n    this.container = null;\n    this.dragger = null;\n    this.bar = null;\n\n    this._handleMouseDown = this._handleMouseDown.bind(this);\n    this._handleMouseUp = this._handleMouseUp.bind(this);\n    this._handleMouseMove = this._handleMouseMove.bind(this);\n\n    this._init();\n  }\n\n  _init() {\n    this._render();\n    const position = this._calculatePosition(this.options.value);\n    this._updateUI(position);\n  }\n\n  _createContainer() {\n    const container = document.createElement(\"div\");\n    container.className = `range-slider ${this.options.className}`;\n    container.style.height = `${this.options.barHeight}px`;\n    this.container = container;\n    return container;\n  }\n\n  _createBar() {\n    const bar = document.createElement(\"span\");\n    bar.style.height = `${this.options.barHeight}px`;\n    bar.style.paddingLeft = `${this.options.draggerSize / 2}px`;\n    bar.style.paddingRight = `${this.options.draggerSize / 2}px`;\n    bar.className = \"progress-bar\";\n    this.bar = bar;\n    return bar;\n  }\n\n  _createDragger() {\n    const dragger = document.createElement(\"span\");\n    dragger.style.width = `${this.options.draggerSize}px`;\n    dragger.style.height = `${this.options.draggerSize}px`;\n    dragger.style.top = `-${(this.options.draggerSize -\n      this.options.barHeight) /\n      2}px`;\n    dragger.className = \"progress-dragger\";\n    this.dragger = dragger;\n    return dragger;\n  }\n\n  _calculateValue(position, positionMax) {\n    const value =\n      (position * (this.options.max - this.options.min)) / positionMax +\n      this.options.min;\n    return Math.round(value);\n  }\n\n  _calculatePosition(value) {\n    const positionMax = this._getPositionMax();\n    return (\n      ((value - this.options.min) * positionMax) /\n      (this.options.max - this.options.min)\n    );\n  }\n\n  _createSlider() {\n    const container = this._createContainer();\n    const bar = this._createBar();\n    const dragger = this._createDragger();\n    bar.appendChild(dragger);\n    container.appendChild(bar);\n\n    this._bindEvent(container);\n\n    return container;\n  }\n\n  _move(event) {\n    if (!this.isMoving) return;\n    let min = 0,\n      max = this._getPositionMax(),\n      mousePos =\n        event.pageX -\n        // container.offsetLeft\n        this.container.getBoundingClientRect()\n          .left /* absolute element calcuates the `offsetLeft relative to relative parents, thus we got 0 in some scenario` */ -\n        this.dragger.offsetWidth / 2,\n      position = mousePos > max ? max : mousePos < min ? min : mousePos;\n\n    const value = this._calculateValue(position, max);\n    this.setValue(value);\n    if (this.options.onChange) {\n      this.options.onChange(value);\n    }\n  }\n\n  _getPositionMax() {\n    return this.container.offsetWidth - this.dragger.offsetWidth;\n  }\n\n  _updateUI(position) {\n    const positionMax = this._getPositionMax();\n    this.dragger.style.left = `${position}px`;\n    let width = (position / positionMax) * 100;\n    this.bar.style.width = `${width}%`;\n  }\n\n  _handleMouseDown(event) {\n    this.isMoving = true;\n    this._move(event);\n  }\n\n  _handleMouseUp(event) {\n    this.isMoving = false;\n  }\n\n  _handleMouseMove(event) {\n    this._move(event);\n  }\n\n  _bindEvent(container) {\n    container.addEventListener(\"mousedown\", this._handleMouseDown);\n    document.addEventListener(\"mouseup\", this._handleMouseUp);\n    document.addEventListener(\"mousemove\", this._handleMouseMove);\n  }\n\n  _removeEvent() {\n    if (!this.container) return;\n    this.container.removeEventListener(\"mousedown\", this._handleMouseDown);\n    document.removeEventListener(\"mouseup\", this._handleMouseUp);\n    document.removeEventListener(\"mousemove\", this._handleMouseMove);\n  }\n\n  _render() {\n    const slider = this._createSlider();\n    this.parent.innerHTML = \"\";\n    this.parent.appendChild(slider);\n  }\n\n  destroy() {\n    this._removeEvent();\n  }\n\n  getValue() {\n    return this.options.value;\n  }\n\n  setValue(value) {\n    this.options.value = value;\n    const position = this._calculatePosition(value);\n    this._updateUI(position);\n  }\n}\n","export {default} from './rangeSlider'","import \"./audioPlayer.css\";\nimport RangeSlider from \"../rangeSlider\";\n\nconst defaultOptions = {\n  parent: document.body,\n  autoPlay: false,\n  duration: 0\n};\n\nexport default class AudioPlayer {\n  constructor(options) {\n    this.options = Object.assign({}, defaultOptions, options);\n\n    this.container = null;\n    this.timeHoler = null;\n    this.toggleBtn = null;\n    this.slider = null;\n    this.isPlaying = false;\n    this.player = null;\n    this.sliderId = this._getSliderId();\n\n    this.togglePlay = this.togglePlay.bind(this);\n\n    this._init();\n  }\n\n  _init() {\n    this.container = this._createUI();\n    this.options.parent.innerHTML = \"\";\n    this.options.parent.appendChild(this.container);\n\n    this._initialPlayer();\n    this._initialEvents();\n  }\n\n  _initialEvents() {\n    this.toggleBtn.onclick = this.togglePlay;\n  }\n\n  _initialPlayer() {\n    if (!this.options.url) {\n      throw new Error(`missing audio url`);\n    }\n    this.player = new Audio(this.options.url);\n    this.player.onloadedmetadata = () => {\n      this._initializeSlider(this.player.duration);\n      this._updateTimeDisplay(this.player.currentTime, this.player.duration);\n    };\n    this.player.ontimeupdate = event => {\n      const time = event.currentTarget.currentTime;\n      this.slider.setValue(time);\n      this._updateTimeDisplay(time, this.player.duration);\n    };\n    this.player.onended = () => {\n      this._playStatusChange(false);\n    };\n    this.player.onerror = () => {\n      this._playStatusChange(false);\n    };\n    this.player.preload = \"metadata\";\n    // this._initializeSlider(this.player.duration);\n    // this._updateTimeDisplay(this.player.currentTime, this.player.duration);\n  }\n\n  _removeEvents() {\n    this.toggleBtn.onclick = undefined;\n  }\n\n  togglePlay() {\n    const isPlaying = !this.isPlaying;\n    if (isPlaying) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  play() {\n    this.player.play();\n    this._playStatusChange(true);\n  }\n\n  pause() {\n    this.player.pause();\n    this._playStatusChange(false);\n  }\n\n  _playStatusChange(isPlaying) {\n    this.isPlaying = isPlaying;\n    this.toggleBtn.className = `icon icon-${this.isPlaying ? \"pause\" : \"play\"}`;\n  }\n\n  _initializeSlider(duration) {\n    this.slider = new RangeSlider(document.querySelector(`#${this.sliderId}`), {\n      max: duration,\n      onChange: value => {\n        this.player.currentTime = value;\n      }\n    });\n  }\n\n  /**\n   * guid generation taken from https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id/6860916#6860916\n   */\n  _getSliderId() {\n    var randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\n    return randLetter + Date.now();\n  }\n\n  _createUI() {\n    const container = document.createElement(\"div\");\n    container.className = \"audio-player\";\n\n    const toggle = document.createElement(\"div\");\n    toggle.className = \"player-section player-toggle\";\n    this.toggleBtn = document.createElement(\"i\");\n    this.toggleBtn.className = `icon icon-play`;\n    toggle.appendChild(this.toggleBtn);\n    container.appendChild(toggle);\n\n    const progress = document.createElement(\"div\");\n    progress.className = \"player-section player-progress\";\n    progress.innerHTML = `<div class=\"player-slider\" id=\"${\n      this.sliderId\n    }\"></div>`;\n    container.appendChild(progress);\n\n    const timer = document.createElement(\"div\");\n    timer.className = \"player-section player-time\";\n    this.timeHoler = document.createElement(\"div\");\n    this.timeHoler.className = \"time\";\n    this.timeHoler.innerText = \"00:00\";\n    timer.append(this.timeHoler);\n\n    container.appendChild(timer);\n    return container;\n  }\n\n  _updateTimeDisplay(time, duration) {\n    time = this._formatTime2HHMMSS(time);\n    duration = this._formatTime2HHMMSS(duration);\n    this.timeHoler.innerText = `${time}/${duration}`;\n  }\n\n  _formatTime2HHMMSS(seconds) {\n    const date = new Date(null);\n    date.setMilliseconds(seconds * 1000);\n    let result = date.toISOString().substr(11, 8);\n\n    let splits = result.split(\":\");\n    if (splits.length > 2 && splits[0] === \"00\") {\n      result = splits.slice(1).join(\":\");\n    }\n    return result;\n  }\n\n  destroy() {\n    this._removeEvents();\n  }\n}\n","export { default } from \"./audioPlayer\";\n"]}