{"version":3,"sources":["../src/rangeSlider/rangeSlider.js","../src/rangeSlider/index.js","sliderExamples.js","../src/audioPlayer/audioPlayer.js","../src/audioPlayer/index.js","../src/videoPlayer/videoPlayer.js","../src/videoPlayer/index.js","../src/mediaPlayer.js","playerExamples.js","index.js"],"names":["defaultOptions","className","value","draggerSize","barHeight","onChange","min","max","precision","RangeSlider","parent","options","Object","assign","document","body","isMoving","container","dragger","bar","_handleDragStart","bind","_handleDragEnd","_handleDragging","_handleResize","_init","_render","position","_calculatePosition","_updateUI","createElement","style","height","paddingLeft","paddingRight","width","top","positionMax","toFixed","_getPositionMax","_createContainer","_createBar","_createDragger","appendChild","_bindEvent","event","preventDefault","elementLeft","getBoundingClientRect","left","documentElement","scrollLeft","Math","abs","pageX","touches","mousePos","offsetWidth","_calculateValue","setValue","_move","addEventListener","window","removeEventListener","slider","_createSlider","innerHTML","_removeEvent","runSliderExamples","querySelector","value4Holder","slider4","innerText","getValue","value5Holder","slider5","value5_1Holder","slider5_1","slider6","onclick","slider7","console","warn","destroy","autoPlay","duration","url","AudioPlayer","timeHoler","toggleBtn","isPlaying","player","sliderId","_getSliderId","togglePlay","_createUI","_initialPlayer","_initialEvents","Error","Audio","onloadedmetadata","_initializeSlider","_updateTimeDisplay","currentTime","ontimeupdate","time","currentTarget","onended","_playStatusChange","onpause","onerror","preload","undefined","play","pause","randLetter","String","fromCharCode","floor","random","Date","now","toggle","progress","timer","append","_formatTime2HHMMSS","seconds","date","setMilliseconds","result","toISOString","substr","splits","split","length","slice","join","_removeEvents","isInlinePlay","VideoPlayer","src","playBtn","_openPopup","setAttribute","popup","videoWrapper","closeBtn","removeChild","cloneNode","players","initialSingletonPlay","e","i","len","target","MediaPlayer","type","createPlayer","push","runPlayerExamples"],"mappings":"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","file":"examples.b29f99ba.map","sourceRoot":"../examples","sourcesContent":["// reference: https://stackoverflow.com/a/33006528/1553656\n\nimport './rangeSlider.css';\n\nconst defaultOptions = {\n  className: '',\n\n  value: 0,\n  draggerSize: 12,\n  barHeight: 2,\n  onChange: null,\n\n  min: 0,\n  max: 100,\n  precision: 0\n};\n\nexport default class RangeSlider {\n  constructor(parent, options) {\n    this.options = Object.assign({}, defaultOptions, options);\n    this.parent = parent || document.body;\n    this.isMoving = false;\n    this.container = null;\n    this.dragger = null;\n    this.bar = null;\n\n    this._handleDragStart = this._handleDragStart.bind(this);\n    this._handleDragEnd = this._handleDragEnd.bind(this);\n    this._handleDragging = this._handleDragging.bind(this);\n    this._handleResize = this._handleResize.bind(this);\n\n    this._init();\n  }\n\n  _init() {\n    this._render();\n    const position = this._calculatePosition(this.options.value);\n    this._updateUI(position);\n  }\n\n  _createContainer() {\n    const container = document.createElement('div');\n    container.className = `range-slider ${this.options.className}`;\n    container.style.height = `${this.options.barHeight}px`;\n    this.container = container;\n    return container;\n  }\n\n  _createBar() {\n    const bar = document.createElement('span');\n    bar.style.height = `${this.options.barHeight}px`;\n    bar.style.paddingLeft = `${this.options.draggerSize / 2}px`;\n    bar.style.paddingRight = `${this.options.draggerSize / 2}px`;\n    bar.className = 'progress-bar';\n    this.bar = bar;\n    return bar;\n  }\n\n  _createDragger() {\n    const dragger = document.createElement('span');\n    dragger.style.width = `${this.options.draggerSize}px`;\n    dragger.style.height = `${this.options.draggerSize}px`;\n    dragger.style.top =\n        `-${(this.options.draggerSize - this.options.barHeight) / 2}px`;\n    dragger.className = 'progress-dragger';\n    this.dragger = dragger;\n    return dragger;\n  }\n\n  _calculateValue(position, positionMax) {\n    const value =\n        (position * (this.options.max - this.options.min)) / positionMax +\n        this.options.min;\n    return +value.toFixed(this.options.precision);\n  }\n\n  _calculatePosition(value) {\n    const positionMax = this._getPositionMax();\n    return (\n        ((value - this.options.min) * positionMax) /\n        (this.options.max - this.options.min));\n  }\n\n  _createSlider() {\n    const container = this._createContainer();\n    const bar = this._createBar();\n    const dragger = this._createDragger();\n    bar.appendChild(dragger);\n    container.appendChild(bar);\n\n    this._bindEvent(container);\n\n    return container;\n  }\n\n  _move(event) {\n    event.preventDefault();\n    \n    if (!this.isMoving) return;\n    let min = 0, max = this._getPositionMax();\n\n    // Instead of using `offsetLeft`, we need to using\n    // `getBoundingClientRect().left. Because the offsetLeft is relative to none\n    // static parent.\n    let elementLeft = this.container.getBoundingClientRect().left;\n\n    // fix for scroll\n    elementLeft += document.documentElement.scrollLeft;\n\n    if (elementLeft < 0) elementLeft = Math.abs(elementLeft) / 2;\n    const pageX = event.pageX || event.touches[0].pageX;\n    let mousePos = pageX - elementLeft - this.dragger.offsetWidth / 2,\n        position = mousePos > max ? max : mousePos < min ? min : mousePos;\n\n    const value = this._calculateValue(position, max);\n    this.setValue(value);\n    if (this.options.onChange) {\n      this.options.onChange(value);\n    }\n  }\n\n  _getPositionMax() {\n    return this.container.offsetWidth - this.dragger.offsetWidth;\n  }\n\n  _updateUI(position) {\n    const positionMax = this._getPositionMax();\n    this.dragger.style.left = `${position}px`;\n    let width = (position / positionMax) * 100;\n    this.bar.style.width = `${width}%`;\n  }\n\n  _handleDragStart(event) {\n    this.isMoving = true;\n    this._move(event);\n  }\n\n  _handleDragEnd(event) {\n    this.isMoving = false;\n  }\n\n  _handleDragging(event) {\n    this._move(event);\n  }\n\n  _handleResize(event) {\n    this._init();\n  }\n\n  _bindEvent(container) {\n    container.addEventListener('mousedown', this._handleDragStart);\n    container.addEventListener('touchstart', this._handleDragStart);\n    document.addEventListener('mouseup', this._handleDragEnd);\n    document.addEventListener('touchend', this._handleDragEnd);\n    document.addEventListener('mousemove', this._handleDragging);\n    document.addEventListener('touchmove', this._handleDragging);\n    window.addEventListener('resize', this._handleResize, true);\n  }\n\n  _removeEvent() {\n    if (!this.container) return;\n    container.removeEventListener('mousedown', this._handleDragStart);\n    container.removeEventListener('touchstart', this._handleDragStart);\n    document.removeEventListener('mouseup', this._handleDragEnd);\n    document.removeEventListener('touchend', this._handleDragEnd);\n    document.removeEventListener('mousemove', this._handleDragging);\n    document.removeEventListener('touchmove', this._handleDragging);\n    window.removeEventListener('resize', this._handleResize, true);\n  }\n\n  _render() {\n    const slider = this._createSlider();\n    this.parent.innerHTML = '';\n    this.parent.appendChild(slider);\n  }\n\n  destroy() {\n    this._removeEvent();\n  }\n\n  getValue() {\n    return this.options.value;\n  }\n\n  setValue(value) {\n    this.options.value = value;\n    const position = this._calculatePosition(value);\n    this._updateUI(position);\n  }\n}\n","export {default} from './rangeSlider'","import RangeSlider from \"../src/rangeSlider\";\n\nexport function runSliderExamples() {\n  new RangeSlider(document.querySelector(\"#slider1\"));\n  new RangeSlider(document.querySelector(\"#slider8\"));\n\n  new RangeSlider(document.querySelector(\"#slider2\"), {\n    className: \"my-slider\"\n  });\n\n  new RangeSlider(document.querySelector(\"#slider3\"), {\n    barHeight: 6,\n    draggerSize: 16\n  });\n\n  let value4Holder = document.querySelector(\"#slider4Value\");\n  let slider4 = new RangeSlider(document.querySelector(\"#slider4\"), {\n    onChange: value => {\n      value4Holder.innerText = value;\n    }\n  });\n  value4Holder.innerText = slider4.getValue();\n\n  let value5Holder = document.querySelector(\"#slider5Value\");\n  let slider5 = new RangeSlider(document.querySelector(\"#slider5\"), {\n    min: 0,\n    max: 200,\n    onChange: value => {\n      value5Holder.innerText = value;\n    }\n  });\n  value5Holder.innerText = slider5.getValue();\n\n  let value5_1Holder = document.querySelector(\"#slider5_1Value\");\n  let slider5_1 = new RangeSlider(document.querySelector(\"#slider5_1\"), {\n    min: -100,\n    max: 100,\n    value: 0,\n    precision: 2,\n    onChange: value => {\n      value5_1Holder.innerText = value;\n    }\n  });\n  value5_1Holder.innerText = slider5_1.getValue();\n\n  const slider6 = new RangeSlider(document.querySelector(\"#slider6\"));\n  document.querySelector(\"#getValue\").onclick = () => {\n    document.querySelector(\"#result\").innerText = slider6.getValue();\n  };\n  document.querySelector(\"#setValue\").onclick = () => {\n    slider6.setValue(50);\n  };\n\n  const slider7 = new RangeSlider(document.querySelector(\"#slider7\"));\n  document.querySelector(\"#destroy\").onclick = () => {\n    console.warn(\"cleared\");\n    slider7.destroy();\n  };\n}\n","/*\n * @author: wayou\n * @date: 2018-11-08 10:25:29\n * @description: audio player with ui control\n * media events references:\n * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events\n *\n */\n\nimport './audioPlayer.css';\nimport RangeSlider from '../rangeSlider';\n\nconst defaultOptions = {\n  parent: document.body,\n  autoPlay: false,\n  duration: 0,\n  url: ''\n};\n\nexport default class AudioPlayer {\n  constructor(options) {\n    this.options = Object.assign({}, defaultOptions, options);\n\n    this.container = null;\n    this.timeHoler = null;\n    this.toggleBtn = null;\n    this.slider = null;\n    this.isPlaying = false;\n    this.player = null;\n    this.sliderId = this._getSliderId();\n\n    this.togglePlay = this.togglePlay.bind(this);\n\n    this._init();\n  }\n\n  _init() {\n    this.container = this._createUI();\n    this.options.parent.innerHTML = '';\n    this.options.parent.appendChild(this.container);\n\n    this._initialPlayer();\n    this._initialEvents();\n  }\n\n  _initialEvents() {\n    this.toggleBtn.onclick = this.togglePlay;\n  }\n\n  _initialPlayer() {\n    if (!this.options.url) {\n      throw new Error(`missing audio url`);\n    }\n\n    this.player = new Audio(this.options.url);\n    this.player.onloadedmetadata = () => {\n      this._initializeSlider(this.player.duration);\n      this._updateTimeDisplay(this.player.currentTime, this.player.duration);\n    };\n\n    this.player.ontimeupdate = event => {\n      const time = event.currentTarget.currentTime;\n      this.slider.setValue(time);\n      this._updateTimeDisplay(time, this.player.duration);\n    };\n\n    this.player.onended = () => {\n      this._playStatusChange(false);\n    };\n\n    this.player.onpause = () => {\n      this._playStatusChange(false);\n    };\n\n    this.player.onerror = () => {\n      this._playStatusChange(false);\n    };\n\n    this.player.preload = 'metadata';\n\n    // we need to append the audio to DOM or the document.addEventListener won't\n    // fire\n    this.container.appendChild(this.player);\n  }\n\n  _removeEvents() {\n    this.toggleBtn.onclick = undefined;\n  }\n\n  togglePlay() {\n    const isPlaying = !this.isPlaying;\n    if (isPlaying) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  play() {\n    this.player.play();\n    this._playStatusChange(true);\n  }\n\n  pause() {\n    this.player.pause();\n    this._playStatusChange(false);\n  }\n\n  _playStatusChange(isPlaying) {\n    this.isPlaying = isPlaying;\n    this.toggleBtn.className = `icon icon-${this.isPlaying ? 'pause' : 'play'}`;\n  }\n\n  _initializeSlider(duration) {\n    this.slider = new RangeSlider(document.querySelector(`#${this.sliderId}`), {\n      max: duration,\n      onChange: value => {\n        this.player.currentTime = value;\n      }\n    });\n  }\n\n  /**\n   * guid generation taken from\n   * https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id/6860916#6860916\n   */\n  _getSliderId() {\n    var randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\n    return randLetter + Date.now();\n  }\n\n  _createUI() {\n    const container = document.createElement('div');\n    container.className = 'audio-player';\n\n    const toggle = document.createElement('div');\n    toggle.className = 'player-section player-toggle';\n    this.toggleBtn = document.createElement('span');\n    this.toggleBtn.className = `icon icon-play`;\n    toggle.appendChild(this.toggleBtn);\n    container.appendChild(toggle);\n\n    const progress = document.createElement('div');\n    progress.className = 'player-section player-progress';\n    progress.innerHTML =\n        `<div class=\"player-slider\" id=\"${this.sliderId}\"></div>`;\n    container.appendChild(progress);\n\n    const timer = document.createElement('div');\n    timer.className = 'player-section player-time';\n    this.timeHoler = document.createElement('div');\n    this.timeHoler.className = 'time';\n    this.timeHoler.innerText = '00:00';\n    timer.append(this.timeHoler);\n\n    container.appendChild(timer);\n    return container;\n  }\n\n  _updateTimeDisplay(time, duration) {\n    time = this._formatTime2HHMMSS(time);\n    duration = this._formatTime2HHMMSS(duration);\n    this.timeHoler.innerText = `${time} / ${duration}`;\n  }\n\n  _formatTime2HHMMSS(seconds) {\n    const date = new Date(null);\n    date.setMilliseconds(seconds * 1000);\n    let result = date.toISOString().substr(11, 8);\n\n    let splits = result.split(':');\n    if (splits.length > 2 && splits[0] === '00') {\n      result = splits.slice(1).join(':');\n    }\n    return result;\n  }\n\n  destroy() {\n    this._removeEvents();\n  }\n}\n","export { default } from \"./audioPlayer\";\n","/*\n * @author: wayou\n * @date: 2018-11-08 14:38:53\n * @description: video player\n */\n\nimport './videoPlayer.css';\n\nconst defaultOptions = {\n  parent: document.body,\n  autoPlay: false,\n  duration: 0,\n  isInlinePlay: true,\n  url: ''\n};\n\nexport default class VideoPlayer {\n  constructor(options) {\n    this.options = Object.assign({}, defaultOptions, options);\n\n    this.container = null;\n    this.player = null;\n\n    this._init();\n  }\n\n  _init() {\n    this.container = this._createUI();\n    this.options.parent.innerHTML = '';\n    this.options.parent.appendChild(this.container);\n\n    this._initialPlayer();\n  }\n\n  _initialPlayer() {\n    if (!this.options.url) {\n      throw new Error(`missing video url`);\n    }\n\n    this.player = document.createElement('video');\n    this.player.src = this.options.url;\n\n    if (!this.options.isInlinePlay) {\n      const playBtn = document.createElement('span');\n      playBtn.className = 'icon icon-video-start-play';\n      playBtn.onclick = () => {\n        this._openPopup();\n      };\n      this.container.appendChild(playBtn);\n    } else {\n      this.player.setAttribute('controls', 'controls');\n    }\n    this.container.appendChild(this.player);\n  }\n\n  play() {\n    this.player.play();\n  }\n\n  pause() {\n    this.player.pause();\n  }\n\n  _createUI() {\n    const container = document.createElement('div');\n    container.className = 'video-player';\n    return container;\n  }\n\n  _openPopup() {\n    const popup = document.createElement('div');\n    popup.className = 'video-player-popup';\n\n    const videoWrapper = document.createElement('div');\n    videoWrapper.className = 'popup-video-wrapper';\n    popup.appendChild(videoWrapper);\n\n    const closeBtn = document.createElement('span');\n    closeBtn.className = 'icon icon-video-close';\n    closeBtn.onclick = () => {\n      document.body.removeChild(popup);\n    };\n\n    const player = this.player.cloneNode(true);\n    player.setAttribute('controls', 'controls');\n    videoWrapper.appendChild(player);\n    player.play();\n\n    videoWrapper.appendChild(closeBtn);\n    document.body.appendChild(popup);\n  }\n}\n","export { default } from \"./videoPlayer\";\n","/*\n * @author: wayou\n * @date: 2018-11-07 16:02:02\n * @description: collections of players with the guarantee of only one player is\n * playing\n */\n\nimport AudioPlayer from './audioPlayer';\nimport VideoPlayer from './videoPlayer';\n\nconst players = [];\n\nfunction initialSingletonPlay() {\n  // guarantee that here's only one player is playing\n  document.addEventListener('play', e => {\n    for (var i = 0, len = players.length; i < len; i++) {\n      if (players[i].player != e.target) {\n        players[i].player.pause();\n      }\n    }\n  }, true);\n}\n\ninitialSingletonPlay();\n\nconst defaultOptions = {\n  parent: document.body,\n  autoPlay: false,\n  duration: 0,\n  url: '',\n  // playing the video inline or in popup\n  isInlinePlay: true\n};\n\nexport default class MediaPlayer {\n  constructor(type, options) {\n    this.options = Object.assign({}, defaultOptions, options);\n    this.type = type;\n    this._init(this.options);\n  }\n\n  _init(options) {\n    const player = this.createPlayer(options);\n    players.push(player);\n  }\n\n  createPlayer(options) {\n    if (this.type === 'audio') {\n      return new AudioPlayer(options);\n    }\n    if (this.type === 'video') {\n      return new VideoPlayer(options);\n    }\n  }\n}\n","import MediaPlayer from '../src/mediaPlayer';\n\nexport function runPlayerExamples() {\n  const player = new MediaPlayer('audio', {\n    parent: document.querySelector('#player'),\n    url:\n        'https://umu-pd.bj.bcebos.com/audio/teacher/resource/cv7894/1465824387.3164.mp3?responseContentType=audio%2Fmp3'\n  });\n\n  new MediaPlayer('video', {\n    parent: document.querySelector('#player2'),\n    url:\n        'http://umu-pd.bj.bcebos.com/videoweike/teacher/weike/96a38d/transcoding/1539077181.1311.36085.mp4'\n  });\n\n  new MediaPlayer('audio', {\n    parent: document.querySelector('#player3'),\n    url: 'http://wayou.github.io/selected/content/songs/ai_la_la.mp3'\n  });\n\n  new MediaPlayer('video', {\n    parent: document.querySelector('#player4'),\n    url:\n        'http://umu-pd.bj.bcebos.com/videoweike/teacher/weike/96a38d/transcoding/1539077181.1311.36085.mp4'\n  });\n\n  new MediaPlayer('video', {\n    parent: document.querySelector('#player5'),\n    url:\n        'http://umu-pd.bj.bcebos.com/videoweike/teacher/weike/96a38d/transcoding/1539077181.1311.36085.mp4',\n    isInlinePlay: false\n  });\n}\n","import { runSliderExamples } from \"./sliderExamples\";\nimport { runPlayerExamples } from \"./playerExamples\";\n\nrunSliderExamples();\nrunPlayerExamples();\n"]}